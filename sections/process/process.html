<!-- ╔═══════════════════════════════════════════════════════════════════════════╗
     ║  PROCESS - Секция с шагами/этапами процесса                               ║
     ║  Фон: через CSS класс {{bgClass}} (редактируется в css/base-styles.css)   ║
     ║  Варианты layout: horizontal (4 в ряд), vertical (2x2 сетка)              ║
     ╚═══════════════════════════════════════════════════════════════════════════╝ -->

{{#if titleBgClass}}
<!-- ══════════════════════════════════════════════════════════════════════════
     ЗАГОЛОВОК НА ОТДЕЛЬНОМ ФОНЕ
     Используется когда titleBgClass отличается от bgClass
     ══════════════════════════════════════════════════════════════════════════ -->
<div class="process-title-wrapper section-padding pb-0 {{titleBgClass}}">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h2 class="text-h2 mb-5">{{title}}</h2>
      </div>
    </div>
  </div>
</div>
{{/if}}

<section class="process {{#unless titleBgClass}}section-padding{{/unless}} {{#if layout}}process-{{layout}}{{/if}} {{bgClass}}" {{#if titleBgClass}}style="padding-top: 60px;"{{/if}}>
  <div class="container">

    <!-- ЗАГОЛОВОК СЕКЦИИ (когда нет отдельного фона для заголовка) -->
    {{#unless titleBackgroundColor}}
    {{#ifEquals layout 'horizontal'}}
    <div class="row mb-5">
      <div class="col-12 text-center">
        <h2 class="text-h2">{{title}}</h2>
      </div>
    </div>
    {{else}}
    <!-- Заголовок (вертикальный layout) -->
    <div class="row mb-5 align-items-center">
      {{#if ctaCentered}}
      <!-- Только заголовок, CTA будет внизу по центру -->
      <div class="col-12">
        <h2 class="text-h3">{{title}}</h2>
      </div>
      {{else}}
      <!-- Заголовок + кнопка в одной строке -->
      <div class="col-md-6">
        <h2 class="text-h3">{{title}}</h2>
      </div>
      {{#if cta}}
      <div class="col-md-6 text-md-end mt-3 mt-md-0">
        <a href="{{cta.link}}" class="btn btn-outline-custom">
          {{cta.text}}
        </a>
      </div>
      {{/if}}
      {{/if}}
    </div>
    {{/ifEquals}}
    {{/unless}}

    <!-- ══════════════════════════════════════════════════════════════════════════
         КАРТОЧКИ ШАГОВ
         Каждая карточка: номер/иконка, заголовок, описание
         ══════════════════════════════════════════════════════════════════════════ -->
    <div class="row">
      {{#each steps}}
      <div class="{{#ifEquals ../layout 'horizontal'}}col-lg-3 col-md-6{{else}}col-md-6{{/ifEquals}} mb-4">
        <div class="process-step {{#if ../cardStyle}}process-step-{{../cardStyle}}{{/if}}">

          <div class="process-step-header mb-3">
            {{#unlessEquals ../layout 'horizontal'}}
            <!-- ИКОНКА ШАГА - изменить src="..." для замены -->
            <div class="process-icon">
              {{#if this.icon}}
              <img src="{{this.icon}}" alt="{{this.title}}" style="width: 76px; height: 75px;">
              {{else}}
              <div class="img-placeholder" style="width: 76px; height: 75px; background-color: #7f7f7f;"></div>
              {{/if}}
            </div>
            {{/unlessEquals}}

            <!-- ЗАГОЛОВОК ШАГА (например: "1. Eintragen") -->
            <h3 class="text-bold-small mb-0">{{this.title}}</h3>
          </div>

          <!-- ОПИСАНИЕ ШАГА -->
          <p class="text-medium-small mb-4">{{this.description}}</p>

          {{#unlessEquals ../layout 'horizontal'}}
          <div class="process-divider" style="max-width: 521px; border-bottom: 1px solid #3D3D3D;"></div>
          {{/unlessEquals}}

        </div>
      </div>
      {{/each}}
    </div>

    <!-- КНОПКА CTA - по центру (для horizontal layout или ctaCentered) -->
    {{#if cta}}
    {{#ifEquals layout 'horizontal'}}
    <div class="row mt-4">
      <div class="col-12 text-center">
        <a href="{{cta.link}}" class="btn btn-primary-custom">
          {{cta.text}}
        </a>
      </div>
    </div>
    {{else}}
    {{#if ctaCentered}}
    <div class="row mt-4">
      <div class="col-12 text-center">
        <a href="{{cta.link}}" class="btn btn-primary-custom">
          {{cta.text}}
        </a>
      </div>
    </div>
    {{/if}}
    {{/ifEquals}}
    {{/if}}

  </div>
</section>
